version: "3.8"

services:
  backend:
    volumes:
      - ../frappe_apps/ck_kuruyemis_pos:/home/frappe/frappe-bench/apps/ck_kuruyemis_pos
  frontend:
    volumes:
      - ../frappe_apps/ck_kuruyemis_pos:/home/frappe/frappe-bench/apps/ck_kuruyemis_pos
  websocket:
    volumes:
      - ../frappe_apps/ck_kuruyemis_pos:/home/frappe/frappe-bench/apps/ck_kuruyemis_pos
  queue-short:
    volumes:
      - ../frappe_apps/ck_kuruyemis_pos:/home/frappe/frappe-bench/apps/ck_kuruyemis_pos
  queue-long:
    volumes:
      - ../frappe_apps/ck_kuruyemis_pos:/home/frappe/frappe-bench/apps/ck_kuruyemis_pos
  scheduler:
    volumes:
      - ../frappe_apps/ck_kuruyemis_pos:/home/frappe/frappe-bench/apps/ck_kuruyemis_pos
  fiscal-adapter:
    profiles: ["optional"]
    build:
      context: ../services/fiscal-adapter
    ports:
      - "8090:8090"
    environment:
      FISCAL_DEVICE_IP: "192.168.1.50"
      FISCAL_DEVICE_PORT: "9100"
      FISCAL_APP_NO: "1"
      FISCAL_TIMEOUT_SECONDS: "5"
  hardware-bridge:
    profiles: ["optional"]
    build:
      context: ../services/hardware-bridge
    ports:
      - "8091:8091"
